<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë‚´ë…„ê¹Œì§€ í• ì¼ (í´ë¡œì € ë²„ì „)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .container { display: flex; justify-content: space-between; margin-top: 20px; }
    .list { width: 45%; border: 1px solid #ccc; padding: 10px; }
    .title-item { display: flex; justify-content: space-between; margin: 5px 0; }
    .title-item span { flex: 1; }
    input { margin-right: 10px; }
  </style>
</head>
<body>

<h2>ë‚´ê°€ ì´ë£¨ê³  ì‹¶ì€ ê²ƒë“¤</h2>
<input type="text" id="titleInput" placeholder="í•˜ê³  ì‹¶ì€ ê²ƒ">
<input type="number" id="dateInput" placeholder="ì™„ë£Œë‚ ì§œ">
<button id="addBtn">ì¶”ê°€</button>

<div class="container">
  <div class="list">
    <h3>ì „ì²´ ëª©ë¡</h3>
    <div id="titleList"></div>
  </div>
  <div class="list">
    <h3>í•˜ê³  ìˆëŠ” ê²ƒ</h3>
    <div id="selectedList"></div>
  </div>
  <div class="list">
    <h3>ì™„ë£Œëœ ê²ƒ</h3>
    <div id="completeList"></div>
  </div>
</div>

<script>
  const TitleManager = (function() {
    // ----------------------------
    // ğŸ”’ private ë³€ìˆ˜ (í´ë¡œì € ë‚´ë¶€)
    // ----------------------------
    const initialCities = [
      { title: "ì •ë³´ì²˜ë¦¬ê¸°ì‚¬ ì·¨ë“", date: '2025/04/24' },
      { title: "ì·¨ì—…", date: '2026/02/27' },
      { title: "SQLD", date: '2026/04/03' },
      { title: "ADsP", date: '2026/03/20' },
      { title: "ë¹…ë°ì´í„° ë¶„ì„ê¸°ì‚¬", date: '2026/04/24' }, // ë‚ ì§œ ìˆ˜ì •
      { title: "ì •ë³´ë³´ì•ˆê¸°ì‚¬", date: '2026/05/08' },
      { title: "ì—¬í–‰", date: '2026/06/06' },
      { title: "ì¶œê°„", date: '2026/12/31' },
      { title: "ì‚¬ë¬´ì‹¤", date: '2028/12/31' },
      { title: "ì‹œê³¨í•œë‹¬ì‚´ê¸°(2íšŒ)", date: '2030/12/31' }
    ];

    let titleList = [...initialCities];
    let selectedList = [];
    let completeList = [];

    // ----------------------------
    // ğŸ”§ private í•¨ìˆ˜
    // ----------------------------
    function renderLists() {
      const titleDiv = document.getElementById("titleList");
      const selectedDiv = document.getElementById("selectedList");
      const completeDiv = document.getElementById("completeList");

      titleDiv.innerHTML = "";
      selectedDiv.innerHTML = "";
      completeDiv.innerHTML = "";

      titleList.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "title-item";
        div.innerHTML = `
          <span>${item.title} (${item.date})</span>
          <button data-index="${index}" class="select-btn">ì„ íƒ</button>
        `;
        titleDiv.appendChild(div);
      });

      selectedList.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "title-item";
        div.innerHTML = `
          <span>${item.title} (${item.date})</span>
          <button data-index="${index}" class="deselect-btn">í•´ì œ</button>
        `;
        selectedDiv.appendChild(div);
      });

      completeList.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "title-item";
        div.innerHTML = `
          <span>${item.title} (${item.date})</span>
        `;
        completeDiv.appendChild(div);
      });
    }

    function selectTitle(index) {
      selectedList.push(titleList[index]);
      titleList.splice(index, 1);
      renderLists();
    }

    function deselectTitle(index) {
      completeList.push(selectedList[index]);
      selectedList.splice(index, 1);
      renderLists();
    }

    function addTitle() {
      const titleName = document.getElementById("titleInput").value.trim();
      const date = document.getElementById("dateInput").value;

      if (!titleName || isNaN(date)) {
        alert("ë„ì‹œ ì´ë¦„ê³¼ ì¸êµ¬ìˆ˜ë¥¼ ëª¨ë‘ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”.");
        return;
      }

      titleList.push({ title: titleName, date });
      document.getElementById("titleInput").value = "";
      document.getElementById("dateInput").value = "";
      renderLists();
    }

    // ----------------------------
    // ğŸ¯ ì´ë²¤íŠ¸ ìœ„ì„ (ë™ì  ë²„íŠ¼ ì²˜ë¦¬)
    // ----------------------------
    document.addEventListener("click", (e) => {
      if (e.target.classList.contains("select-btn")) {
        selectTitle(e.target.dataset.index);
      } else if (e.target.classList.contains("deselect-btn")) {
        deselectTitle(e.target.dataset.index);
      }
    });

    // ----------------------------
    // ğŸš€ ì´ˆê¸° ì‹¤í–‰
    // ----------------------------
    renderLists();

    // ----------------------------
    // ğŸŒ public API
    // ----------------------------
    return {
      addTitle
    };
  })();

  // ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê³µê°œ í•¨ìˆ˜
  document.getElementById("addBtn").addEventListener("click", TitleManager.addTitle);
</script>

</body>
</html>

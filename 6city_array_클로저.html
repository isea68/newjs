<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë„ì‹œ ì¸êµ¬ ê´€ë¦¬ (í´ë¡œì € ë²„ì „)</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .container { display: flex; justify-content: space-between; margin-top: 20px; }
    .list { width: 45%; border: 1px solid #ccc; padding: 10px; }
    .city-item { display: flex; justify-content: space-between; margin: 5px 0; }
    .city-item span { flex: 1; }
    input { margin-right: 10px; }
  </style>
</head>
<body>

<h2>ë„ì‹œì™€ ì¸êµ¬ìˆ˜ ë“±ë¡</h2>
<input type="text" id="cityInput" placeholder="ë„ì‹œ ì´ë¦„">
<input type="number" id="populationInput" placeholder="ì¸êµ¬ìˆ˜">
<button id="addBtn">ì¶”ê°€</button>

<div class="container">
  <div class="list">
    <h3>ì „ì²´ ë„ì‹œ</h3>
    <div id="cityList"></div>
  </div>
  <div class="list">
    <h3>ì„ íƒëœ ë„ì‹œ</h3>
    <div id="selectedList"></div>
  </div>
</div>

<script>
  const CityManager = (function() {
    // ----------------------------
    // ğŸ”’ private ë³€ìˆ˜ (í´ë¡œì € ë‚´ë¶€)
    // ----------------------------
    const initialCities = [
      { city: "ì„œìš¸", population: 9728000 },
      { city: "ë¶€ì‚°", population: 3404000 },
      { city: "ì¸ì²œ", population: 2941000 },
      { city: "ëŒ€êµ¬", population: 2392000 },
      { city: "ëŒ€ì „", population: 1475000 },
      { city: "ê´‘ì£¼", population: 1456000 },
      { city: "ìš¸ì‚°", population: 1123000 },
      { city: "ìˆ˜ì›", population: 1194000 },
      { city: "ê³ ì–‘", population: 1082000 },
      { city: "ì„±ë‚¨", population: 944000 }
    ];

    let cityList = [...initialCities];
    let selectedCities = [];

    // ----------------------------
    // ğŸ”§ private í•¨ìˆ˜
    // ----------------------------
    function renderLists() {
      const cityDiv = document.getElementById("cityList");
      const selectedDiv = document.getElementById("selectedList");

      cityDiv.innerHTML = "";
      selectedDiv.innerHTML = "";

      cityList.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "city-item";
        div.innerHTML = `
          <span>${item.city} (${item.population.toLocaleString()})</span>
          <button data-index="${index}" class="select-btn">ì„ íƒ</button>
        `;
        cityDiv.appendChild(div);
      });

      selectedCities.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "city-item";
        div.innerHTML = `
          <span>${item.city} (${item.population.toLocaleString()})</span>
          <button data-index="${index}" class="deselect-btn">í•´ì œ</button>
        `;
        selectedDiv.appendChild(div);
      });
    }

    function selectCity(index) {
      selectedCities.push(cityList[index]);
      cityList.splice(index, 1);
      renderLists();
    }

    function deselectCity(index) {
      cityList.push(selectedCities[index]);
      selectedCities.splice(index, 1);
      renderLists();
    }

    function addCity() {
      const cityName = document.getElementById("cityInput").value.trim();
      const population = parseInt(document.getElementById("populationInput").value);

      if (!cityName || isNaN(population)) {
        alert("ë„ì‹œ ì´ë¦„ê³¼ ì¸êµ¬ìˆ˜ë¥¼ ëª¨ë‘ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”.");
        return;
      }

      cityList.push({ city: cityName, population });
      document.getElementById("cityInput").value = "";
      document.getElementById("populationInput").value = "";
      renderLists();
    }

    // ----------------------------
    // ğŸ¯ ì´ë²¤íŠ¸ ìœ„ì„ (ë™ì  ë²„íŠ¼ ì²˜ë¦¬)
    // ----------------------------
    document.addEventListener("click", (e) => {
      if (e.target.classList.contains("select-btn")) {
        selectCity(e.target.dataset.index);
      } else if (e.target.classList.contains("deselect-btn")) {
        deselectCity(e.target.dataset.index);
      }
    });

    // ----------------------------
    // ğŸš€ ì´ˆê¸° ì‹¤í–‰
    // ----------------------------
    renderLists();

    // ----------------------------
    // ğŸŒ public API
    // ----------------------------
    return {
      addCity
    };
  })();

  // ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ê³µê°œ í•¨ìˆ˜
  document.getElementById("addBtn").addEventListener("click", CityManager.addCity);
</script>

</body>
</html>
